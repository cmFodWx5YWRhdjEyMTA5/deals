;(function($,window,document,undefined){'use strict';function jQueryTab(wrapper,options){this.options=$.extend(true,{},$.fn.jQueryTab.defaults,options);this._defaults=$.fn.jQueryTab.defaults;this.wrapper=wrapper;this.$wrapper=$(wrapper);this.tabs=this.$wrapper.find('.'+this.options.tabClass).addClass('tabHeader');this.tabItems=this.tabs.find('li');this.tabLinks=this.tabItems.find("a");this.wrap=this.$wrapper.find('.'+this.options.contentWrapperClass);this.contents=this.wrap.find('.'+this.options.contentClass);this.headerClass=this.options.accordionClass;this.activeClass=this.options.activeClass;this.init();}
jQueryTab.prototype={init:function(){var self=this,initialTab=self.getActiveTab();if(self.options.responsive){self.addHeader();self.alinks=self.wrap.find('.'+self.headerClass);}
self.resize();self.cssSetUp();self.handleEvent();},addHeader:function(){var self=this;self.wrap.find('.'+self.headerClass).remove();self.tabLinks.each(function(){var $tab_content=self.contents.eq($(this).parent().index());$('<a />').attr({'class':self.headerClass,'href':'#'+$tab_content.attr('id')}).text($(this).text()).insertBefore($tab_content);});},cssSetUp:function(){this.wrap.addClass('toggle_border');this.contents.addClass('toggle_position toggle_display');if(this.options.responsive){this.tabs.addClass('toggle_display');}
if(this.options.tabPosition==='bottom'){this.tabs.insertAfter(this.wrap.addClass('invert_border'));}},handleClasses:function(activeContent){var self=this;self.contents.removeClass(self.options.tabInTransition).addClass(self.options.tabOutTransition);activeContent.removeClass(self.options.tabOutTransition).addClass(self.options.tabInTransition);},resize:function(){var self=this,currentTab=self.getActiveTab(),activeContent=self.contents.eq(currentTab);self.reOrder(activeContent);self.tabItems.eq(currentTab).addClass(self.activeClass);if(self.options.responsive)self.alinks.eq(currentTab).addClass(self.activeClass);if(self.options.responsiveBelow<$(window).width()){self.contents.show();self.handleClasses(activeContent);self.wrap.height(activeContent.outerHeight());}else{if(self.options.responsive){self.contents.hide().removeClass(self.options.tabOutTransition,self.options.tabInTransition);activeContent.fadeIn(self.options.accordionIntime);}}
(self.options.useCookie)?self.setCookie.call(self,currentTab):'';},handleEvent:function(){var self=this;$(window).on('resize',function(){self.resize();});self.tabLinks.add(self.alinks).on((self.options.openOnhover)?'click mouseenter':'click',function(event){event.preventDefault();var fxn_to_call=($(this).hasClass('accordion_tabs'))?'handleAccordions':'handleTabs';self.tabber(fxn_to_call,this);});},tabber:function(fxn_name,elem){var self=this;(typeof self.options.before==='function')?self.options.before.apply(elem,arguments):'';if(self.options.useHistory)self.updateBrowserHisotry($(elem).attr('href'));self[fxn_name].call(elem,self);(typeof self.options.after==='function')?self.options.after.apply(elem,arguments):'';},handleTabs:function(self){if($(this).parent().hasClass(self.activeClass))return;var index=$(this).parent().index(),activeContent=self.contents.eq(index);self.tabItems.removeClass(self.activeClass).eq(index).addClass(self.activeClass);self.wrap.height(activeContent.outerHeight());self.reOrder(activeContent);if(self.options.responsive)
self.alinks.removeClass(self.activeClass).eq(index).addClass(self.activeClass);self.handleClasses(activeContent);(self.options.useCookie)?self.setCookie.call(self,index):'';},handleAccordions:function(self){var $this=$(this),index=Math.floor(($this.next().index()-1)/2),intime=self.options.accordionInTime,outtime=self.options.accordionOutTime;if(($this.hasClass(self.activeClass))&&!self.options.collapsible)return;else if($this.hasClass(self.activeClass)&&self.options.collapsible){self.alinks.removeClass(self.activeClass);self.tabItems.removeClass(self.activeClass);(self.options.accordionTransition==='slide')?self.contents.slideUp(outtime):self.contents.fadeOut(outtime);(self.options.useCookie)?self.setCookie.call(self,null):'';}else{self.alinks.removeClass(self.activeClass).eq(index).addClass(self.activeClass);self.tabItems.removeClass(self.activeClass).eq(index).addClass(self.activeClass);(self.options.accordionTransition==='slide')?self.contents.slideUp(outtime).eq(index).slideDown(intime):self.contents.fadeOut(outtime).eq(index).fadeIn(intime);(self.options.useCookie)?self.setCookie.call(self,index):'';}},reOrder:function($ontop){var self=this,count=self.contents.length;$ontop.css('zIndex',count+1);self.contents.not($ontop).each(function(i){$(this).css('zIndex',count-i);});},getActiveTab:function(tab){var self=this,currentTab;if(typeof tab==='number'){return tab-1;}
if(self.tabs.find('.'+self.activeClass).index()!==-1){return self.tabs.find('.'+self.activeClass).index();}
currentTab=(self.options.useCookie)?(self.getCookie(self.options.cookieName)?self.getCookie(self.options.cookieName):self.options.initialTab-1):self.options.initialTab-1;if(window.location.hash){var indexOfHash=self.tabLinks.index($('[href='+window.location.hash+']'));if(indexOfHash!==-1)currentTab=indexOfHash;}
return currentTab;},setCookie:function(value){var self=this,expires,date,path,domain,secure;if(value===null){value='';date=new Date();date.setTime(date.getTime()+((-1)*24*60*60*1000));}
else if(typeof self.options.cookieExpires=='number'){date=new Date();date.setTime(date.getTime()+(self.options.cookieExpires*24*60*60*1000));}else if(self.options.cookieExpires.toUTCString){date=self.options.cookieExpires;}
expires='; expires='+date.toUTCString();path=self.options.cookiePath?'; path='+(self.options.cookiePath):'';domain=self.options.cookieDomain?'; domain='+(self.options.cookieDomain):'';secure=self.options.cookieSecure?'; secure':'';document.cookie=''.concat(self.options.cookieName,'=',encodeURIComponent(value),expires,path,domain,secure);},getCookie:function(name){var name=name+"=";if(document.cookie&&document.cookie!=''){var cookieArray=document.cookie.split(";");for(var i=0;i<cookieArray.length;i++){var cookie=jQuery.trim(cookieArray[i]);if(cookie.indexOf(name)==0)
return decodeURIComponent(cookie.substring(name.length,cookie.length));}}
return null;},updateBrowserHisotry:function(href){if(!!(window.history&&history.pushState)){if(window.location.hash!==href)history.pushState(null,null,href);}}};$.fn.jQueryTab=function(options){return this.each(function(){var container=$(this);if(container.data('jQueryTab'))return;var aT=new jQueryTab(this,options);container.data('jQueryTab',aT);});};$.fn.jQueryTab.defaults={tabClass:'tabs',accordionClass:'accordion_tabs',contentWrapperClass:'tab_content_wrapper',contentClass:'tab_content',activeClass:'active',responsive:true,responsiveBelow:600,collapsible:true,useCookie:true,openOnhover:false,useHistory:true,keyboardNavigation:true,tabPosition:'top',initialTab:1,cookieName:'active-tab',cookieExpires:365,cookiePath:'',cookieDomain:'',cookieSecure:false,tabInTransition:'fadeIn',tabOutTransition:'fadeOut',accordionTransition:'slide',accordionIntime:500,accordionOutTime:400,before:function(){},after:function(){}};})(jQuery,window,document);